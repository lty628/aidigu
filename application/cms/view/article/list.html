<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新闻列表 - 爱嘀咕</title>
    <link rel="stylesheet" href="{{$Think.STATIC_URL}}static/cms/css/style.css" />
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="container">
            <a href="/" class="logo">爱嘀咕</a>
            <ul class="nav-links">
                <li><a href="/">首页</a></li>
                <li><a href="/news">新闻</a></li>
                <li><a href="/tools">工具</a></li>
                <li><a href="/about">关于</a></li>
            </ul>
        </div>
    </nav>

    <!-- 主内容 -->
    <main class="main-content">
        <div class="container">
            <section class="news-category">
                {{volist name="categoryList" id="vo"}}
                <a href="/article/category/{{$vo.category_name}}/" class="category-btn">{{$vo.category_name}}</a>
                {{/volist}}
            </section>
            <!-- 新闻列表 -->
            <section class="news-section">
                <h2 class="section-title">最新<span>新闻</span></h2>
               
                <div class="news-list">
                    <!-- 新闻项 -->

                    {{volist name="list" id="vo"}}
                    <article class="news-card" onclick="location.href='/article/detail/{{$vo.content_id}}.html'">
                        {{if isset($vo.content_extra.article_media) && $vo.content_extra.article_media}}
                        <img src="{{$vo.content_extra.article_media}}" alt="{{$vo.title}}" class="news-image">
                        {{else}}
                        <!-- <img src="/static/cms/images/news1.jpg" alt="{{$vo.title}}" class="news-image"></img> -->
                        {{/if}}
                        <div class="news-content">
                            <h3 class="news-title">{{$vo.title}}</h3>
                            <p class="news-excerpt">{{if mb_strlen($vo.content) > 200}}{{$vo.content | strip_tags | mb_substr=0,200}}...{{else}}{{$vo.content | strip_tags}}{{/if}}</p>
                            <div class="news-meta">
                                <span>{{$vo.create_time | formatTime}}</span>
                                <span>作者：{{$vo.user.nickname}}</span>
                                <span>阅读 987</span>
                            </div>
                        </div>
                    </article>
                    {{/volist}}
                </div>

                <!-- 分页 -->
                 {{$page | raw}}
            </section>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2023 爱嘀咕. 保留所有权利.</p>
        </div>
    </footer>

    <script>
        // 分页功能
        document.addEventListener('DOMContentLoaded', function() {
            const pageBtns = document.querySelectorAll('.page-btn');
            
            pageBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.classList.contains('disabled')) return;
                    
                    // 移除所有激活状态
                    pageBtns.forEach(b => b.classList.remove('active'));
                    // 添加当前激活状态
                    this.classList.add('active');
                });
            });
        });
    </script>
</body>
</html>